{
	"$schema": "http://json-schema.org/draft-07/schema#",
	"title": "SessionRefreshed",
	"type": "object",
	"properties": {
		"sessionId": {
			"type": "string",
			"format": "uuid",
			"description": "Identifier of the refreshed session"
		},
		"userId": {
			"type": "string",
			"format": "uuid",
			"description": "Identifier of the session owner"
		},
		"previousExpiresAt": {
			"type": "string",
			"format": "date-time",
			"description": "Previous expiration timestamp before refresh"
		},
		"metadata": {
			"type": "object",
			"description": "Request context captured for security audit (enables location change detection)",
			"properties": {
				"ipAddress": {
					"type": ["string", "null"],
					"description": "Client IP address"
				},
				"userAgent": {
					"type": ["string", "null"],
					"description": "Client User-Agent header"
				},
				"geoLocation": {
					"type": ["string", "null"],
					"description": "Geolocation from IP lookup (populated at boundary)"
				}
			}
		},
		"timestamp": {
			"type": "string",
			"format": "date-time",
			"description": "When the refresh occurred"
		},
		"expiresAt": {
			"type": "string",
			"format": "date-time",
			"description": "New expiration timestamp after refresh"
		},
		"ttlExtensionSeconds": {
			"type": "integer",
			"description": "Number of seconds the TTL was extended by"
		}
	},
	"required": ["sessionId", "userId", "timestamp", "expiresAt"]
}
