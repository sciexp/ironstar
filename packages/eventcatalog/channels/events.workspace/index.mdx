---
id: events.workspace
name: Workspace Events Channel
version: 0.0.1
summary: |
  Zenoh key expression pattern for Workspace domain events including dashboards, saved queries, and user preferences.
address: events/workspace/**
protocols:
  - zenoh
owners:
  - engineering
---

## Overview

This channel carries all workspace domain events using Zenoh's key expression filtering.
The workspace domain covers user-created artifacts like dashboards, saved queries, and preferences.

## Key expression patterns

The channel uses hierarchical key expressions for flexible subscription.

`events/workspace/**` subscribes to all workspace events.

`events/workspace/dashboard/**` subscribes to dashboard events.

`events/workspace/dashboard/created` subscribes to dashboard creation.

`events/workspace/dashboard/chart/**` subscribes to chart management events.

`events/workspace/dashboard/tab/**` subscribes to tab management events.

`events/workspace/query/**` subscribes to saved query events.

`events/workspace/query/created` subscribes to new saved queries.

`events/workspace/query/deleted` subscribes to query deletions.

`events/workspace/preferences/**` subscribes to user preferences events.

`events/workspace/preferences/theme` subscribes to theme changes.

`events/workspace/preferences/ui-state` subscribes to UI state updates.

## Event types carried

This channel carries events from DashboardService, SavedQueryService, and UserPreferencesService.

Dashboard events include DashboardCreated, DashboardChartAdded, DashboardTabAdded, DashboardChartMovedToTab, DashboardChartRemoved, and DashboardRenamed.

Saved query events include SavedQueryCreated, SavedQueryRenamed, SavedQuerySqlUpdated, SavedQueryDatasetRefUpdated, and SavedQueryDeleted.

Preferences events include UserPreferencesInitialized, UserPreferencesThemeSet, UserPreferencesDefaultCatalogSet, UserPreferencesDefaultCleared, and UserPreferencesUiStateUpdated.

## Subscriber patterns

Workspace events typically interest the following consumers.

*Collaborative editing* synchronizes dashboard changes across multiple browser tabs.

*Recent items* updates the user's recent dashboards and queries lists.

*Search indexing* updates the search index when queries are created or renamed.

*Backup processes* trigger incremental backup on workspace changes.

## Workspace-scoped filtering

Workspace events include workspace identifiers enabling workspace-specific subscriptions.
For per-workspace event delivery, use workspace-scoped key expressions.

`events/workspace/{workspace_id}/**` filters to all events within a specific workspace.

`events/workspace/{workspace_id}/dashboard/**` filters to dashboard events within a specific workspace.

`events/workspace/{workspace_id}/query/**` filters to saved query events within a specific workspace.

## User-scoped filtering

User preference events are user-scoped rather than workspace-scoped.
For per-user event delivery, combine with user-scoped key expressions.

`events/workspace/preferences/{user_id}/**` filters to a specific user's preference events.
