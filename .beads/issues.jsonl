{"id":"ironstar-09r","title":"Implement ds-echarts Lit web component wrapper","description":"Implement ds-echarts Lit web component wrapper following Pattern 1.5 from integration-patterns.md.\n\nHandles ECharts lifecycle (init/dispose), ResizeObserver with configurable debounce, MediaQueryList listener for dark mode auto-switching, and light DOM rendering via createRenderRoot() override for Open Props token access.\n\nKey properties:\n- option: JSON string (Datastar stringifies objects via data-attr:option)\n- theme: 'default' or registered theme name\n- resize-delay: debounce milliseconds\n\nLocal refs:\n- ~/projects/lakescope-workspace/datastar-go-nats-template-northstar/web/libs/lit/src/components/ds-echarts/ds-echarts.ts\n- ~/projects/lakescope-workspace/echarts/","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T17:11:35.194612-05:00","updated_at":"2025-12-18T17:32:08.028928-05:00","dependencies":[{"issue_id":"ironstar-09r","depends_on_id":"ironstar-ny3","type":"blocks","created_at":"2025-12-18T17:42:37.015164-05:00","created_by":"daemon"},{"issue_id":"ironstar-09r","depends_on_id":"ironstar-r62.5","type":"blocks","created_at":"2025-12-18T18:05:59.594439-05:00","created_by":"daemon"},{"issue_id":"ironstar-09r","depends_on_id":"ironstar-2nt.5","type":"blocks","created_at":"2025-12-18T18:06:00.395546-05:00","created_by":"daemon"},{"issue_id":"ironstar-09r","depends_on_id":"ironstar-e6k.7","type":"blocks","created_at":"2025-12-18T18:06:01.653399-05:00","created_by":"daemon"},{"issue_id":"ironstar-09r","depends_on_id":"ironstar-r62.10","type":"blocks","created_at":"2025-12-18T18:06:02.54407-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt","title":"Domain layer","description":"Implement the domain layer using algebraic data types to make invalid states unrepresentable. Defines sum types for domain events and commands, product types for aggregates and value objects, smart constructors for validation, and ts-rs derives for TypeScript signal contract generation. Establishes the core vocabulary of the application with type-level guarantees.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-18T09:36:16.225617-05:00","updated_at":"2025-12-18T09:36:16.387807-05:00","dependencies":[{"issue_id":"ironstar-2nt","depends_on_id":"ironstar-6lq.5","type":"blocks","created_at":"2025-12-18T09:36:16.535145-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.1","title":"Initialize src/ directory structure with modular organization","description":"Create src/ subdirectories for domain/ (aggregates, events, commands, values, signals.rs), application/ (command_handlers, query_handlers, projections), infrastructure/ (event_store, session_store, analytics, event_bus), and presentation/ (routes, handlers, templates). Create placeholder mod.rs files.\nLocal refs: CLAUDE.md Project structure section","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:16.688724-05:00","updated_at":"2025-12-18T17:26:52.864606-05:00","closed_at":"2025-12-18T17:26:52.864606-05:00","close_reason":"Already completed in ironstar-6lq.3 - src/ structure created with domain/application/infrastructure/presentation modules","dependencies":[{"issue_id":"ironstar-2nt.1","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:16.689083-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.2","title":"Define algebraic domain types and aggregate structure","description":"Implement sum types for DomainEvent, Command, and aggregate states as Rust enums with serde serialization.\n\nSession context: crates/ironstar/src/domain/mod.rs exists and is ready for implementation.\nWorkspace dependencies already include: serde, uuid, chrono.\n\nExample pattern:\n```rust\n#[derive(Debug, Clone, Serialize, Deserialize)]\n#[serde(tag = \"type\", content = \"data\")]\nenum DomainEvent {\n    TodoCreated { id: Uuid, text: String, created_at: DateTime\u003cUtc\u003e },\n    TodoCompleted { id: Uuid, completed_at: DateTime\u003cUtc\u003e },\n    TodoDeleted { id: Uuid, deleted_at: DateTime\u003cUtc\u003e },\n}\n```\n\nEstablishes the core algebraic vocabulary making invalid states unrepresentable.\nType-level guarantees for all domain logic.\n\nLocal refs: crates/ironstar/src/domain/","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:17.002161-05:00","updated_at":"2025-12-18T18:02:39.023823-05:00","dependencies":[{"issue_id":"ironstar-2nt.2","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:17.003777-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.2","depends_on_id":"ironstar-2nt.1","type":"blocks","created_at":"2025-12-18T09:36:17.320831-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.3","title":"Implement value objects and smart constructors","description":"Create validated value objects with smart constructor pattern:\n#[derive(Debug, Clone, Serialize, Deserialize)]\n#[serde(try_from = \"String\")]\nstruct TodoText(String);\nimpl TryFrom\u003cString\u003e for TodoText {\n    type Error = ValidationError;\n    fn try_from(s: String) -\u003e Result\u003cSelf, Self::Error\u003e {\n        if s.is_empty() { return Err(ValidationError::Empty); }\n        if s.len() \u003e 500 { return Err(ValidationError::TooLong); }\n        Ok(TodoText(s))\n    }\n}\nProduct types reject invalid values before they enter the system, preventing bug vectors at the type level.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:17.486442-05:00","updated_at":"2025-12-18T09:36:17.648114-05:00","dependencies":[{"issue_id":"ironstar-2nt.3","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:17.486905-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.3","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:17.804575-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.4","title":"Design aggregate root state machines","description":"Model aggregate state machines using Rust enums:\nenum TodoAggregate {\n    Active { id: Uuid, text: TodoText, created_at: DateTime\u003cUtc\u003e },\n    Completed { id: Uuid, text: TodoText, created_at: DateTime\u003cUtc\u003e, completed_at: DateTime\u003cUtc\u003e },\n    Deleted,\n}\nimpl TodoAggregate {\n    fn apply_command(\u0026self, cmd: Command) -\u003e Result\u003cDomainEvent, DomainError\u003e {\n        match (self, cmd) {\n            (TodoAggregate::Active { .. }, Command::MarkComplete) =\u003e Ok(DomainEvent::TodoCompleted { ... }),\n            (TodoAggregate::Completed { .. }, Command::MarkComplete) =\u003e Err(DomainError::AlreadyCompleted),\n            ...\n        }\n    }\n}\nApply commands to aggregates via pure functions that validate state transitions and emit events as output.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:17.970688-05:00","updated_at":"2025-12-18T09:36:18.134526-05:00","dependencies":[{"issue_id":"ironstar-2nt.4","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:17.971107-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.4","depends_on_id":"ironstar-2nt.3","type":"blocks","created_at":"2025-12-18T09:36:18.277782-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.5","title":"Create Datastar signal types with ts-rs derives","description":"Define frontend signal contract types using serde::Serialize + ts_rs::TS derives so TypeScript definitions auto-generate. These types specify the shape of signals flowing from browser to server, ensuring type safety across the HTTP boundary.\nLocal refs: ~/projects/rust-workspace/ts-rs","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:18.440574-05:00","updated_at":"2025-12-18T09:36:18.591878-05:00","dependencies":[{"issue_id":"ironstar-2nt.5","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:18.44096-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.5","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:18.742329-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.6","title":"Enforce camelCase convention for Datastar signal fields","description":"Apply #[serde(rename_all = \"camelCase\")] to all signal struct definitions:\n#[derive(Serialize, Deserialize, TS)]\n#[serde(rename_all = \"camelCase\")]\n#[ts(export)]\nstruct AddTodoSignal {\n    todo_text: String,  // serializes as todoText\n    is_urgent: bool,    // serializes as isUrgent\n}\nEnsures Rust snake_case fields serialize to JavaScript-idiomatic camelCase for Datastar signals.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:18.905123-05:00","updated_at":"2025-12-18T09:36:19.045189-05:00","dependencies":[{"issue_id":"ironstar-2nt.6","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:18.905571-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.6","depends_on_id":"ironstar-2nt.5","type":"blocks","created_at":"2025-12-18T09:36:19.195479-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.7","title":"Implement command validation pattern with Result types","description":"Create validation functions returning Result\u003cValidatedCommand, ValidationError\u003e:\nimpl Command {\n    fn validate(self) -\u003e Result\u003cValidatedCommand, ValidationError\u003e {\n        match self {\n            Command::AddTodo { text } =\u003e {\n                let text = TodoText::try_from(text)?;\n                Ok(ValidatedCommand::AddTodo { text })\n            }\n            ...\n        }\n    }\n}\nRailway-oriented programming pattern ensures invalid commands never reach aggregate apply_command logic.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:19.354555-05:00","updated_at":"2025-12-18T09:36:19.516373-05:00","dependencies":[{"issue_id":"ironstar-2nt.7","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:19.354949-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.7","depends_on_id":"ironstar-2nt.4","type":"blocks","created_at":"2025-12-18T09:36:19.680354-05:00","created_by":"daemon"}]}
{"id":"ironstar-2nt.8","title":"Define application error types","description":"Create AppError enum using thiserror::Error with variants for Validation, NotFound, Database, Internal. Implement From conversions and IntoResponse for proper HTTP responses.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:19.842539-05:00","updated_at":"2025-12-18T09:36:19.995441-05:00","dependencies":[{"issue_id":"ironstar-2nt.8","depends_on_id":"ironstar-2nt","type":"parent-child","created_at":"2025-12-18T09:36:19.842893-05:00","created_by":"daemon"},{"issue_id":"ironstar-2nt.8","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:20.150189-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq","title":"Rust workspace integration","description":"Integrate Rust toolchain and workspace patterns into the Nix flake using rust-flake, crane for deterministic builds, and rust-overlay for toolchain management. Establishes Cargo workspace structure with resolver 2, workspace.dependencies for DRY, per-crate crane.args configuration following rustlings-workspace and rust-nix-template patterns. Includes CI integration with flake checks and GitHub Actions matrix builds inherited from template.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-18T09:36:09.969921-05:00","updated_at":"2025-12-18T09:36:10.135164-05:00","dependencies":[{"issue_id":"ironstar-6lq","depends_on_id":"ironstar-cxe","type":"blocks","created_at":"2025-12-18T09:36:10.288159-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.1","title":"Integrate rust-flake patterns (crane, rust-overlay)","description":"Create nix/modules/rust.nix importing rust-flake module. Configure:\n- crane with per-crate crane.args via callPackage pattern\n- rust-overlay for toolchain management with rust-toolchain.toml\n- Platform-specific buildInputs: darwin.apple_sdk.frameworks (Security, SystemConfiguration), pkgs.openssl\n- Syntax: perSystem = { config, pkgs, lib, ... }: { rust-flake.crateOverrides = ...; }\nEstablishes deterministic Rust build infrastructure with native dependency handling.\nLocal refs: ~/projects/rust-workspace/rust-nix-template/nix/modules/rust.nix, ~/projects/rust-workspace/rustlings-workspace/nix/modules/rust.nix","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:10.463662-05:00","updated_at":"2025-12-18T17:23:57.554076-05:00","closed_at":"2025-12-18T17:23:57.554076-05:00","close_reason":"rust-flake input + modules/rust.nix created","dependencies":[{"issue_id":"ironstar-6lq.1","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:10.464029-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.2","title":"Add rust-toolchain.toml with required components","description":"Create rust-toolchain.toml at repository root specifying stable channel with components: rustfmt, clippy, rust-analyzer, rust-src. Ensures consistent Rust version across development environments and CI.\nLocal refs: ~/projects/rust-workspace/rust-nix-template/rust-toolchain.toml","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:10.783847-05:00","updated_at":"2025-12-18T17:23:57.757485-05:00","closed_at":"2025-12-18T17:23:57.757485-05:00","close_reason":"rust-toolchain.toml with stable + dev components","dependencies":[{"issue_id":"ironstar-6lq.2","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:10.784205-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.2","depends_on_id":"ironstar-6lq.1","type":"blocks","created_at":"2025-12-18T09:36:11.089429-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.3","title":"Configure Cargo.toml with workspace structure (resolver = 2)","description":"Create Cargo.toml at repository root with [workspace], resolver = \"2\", members array, and workspace.dependencies section for DRY dependency management. Include all core dependencies: axum, tokio, sqlx, duckdb, ts-rs, datastar, hypertext, redb, rust-embed, thiserror. Add release profile optimizations.\nLocal refs: ~/projects/rust-workspace/rustlings-workspace/Cargo.toml","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:11.259066-05:00","updated_at":"2025-12-18T17:23:57.957589-05:00","closed_at":"2025-12-18T17:23:57.957589-05:00","close_reason":"Cargo workspace + crates/ironstar structure","dependencies":[{"issue_id":"ironstar-6lq.3","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:11.259426-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.3","depends_on_id":"ironstar-6lq.2","type":"blocks","created_at":"2025-12-18T09:36:11.552369-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.4","title":"Set up per-crate crate.nix pattern for crane args","description":"Create crate.nix files for each workspace crate defining crane-specific build arguments:\n{ lib, pkgs, rustPlatform, ... }:\n{\n  pname = \"ironstar\";\n  buildInputs = [ ... ];\n  nativeBuildInputs = [ ... ];\n  preBuild = ''export DATABASE_URL=file:test.db'';\n}\nImplements pattern from rustlings-workspace for granular build customization. Set DATABASE_URL env var for sqlx compile-time query validation.\nLocal refs: ~/projects/rust-workspace/rustlings-workspace/","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:11.699369-05:00","updated_at":"2025-12-18T17:23:58.146209-05:00","closed_at":"2025-12-18T17:23:58.146209-05:00","close_reason":"crate.nix with minimal deps","dependencies":[{"issue_id":"ironstar-6lq.4","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:11.699822-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.4","depends_on_id":"ironstar-6lq.3","type":"blocks","created_at":"2025-12-18T09:36:11.99174-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.5","title":"Verify cargo check passes with workspace configuration","description":"Run cargo check to validate workspace configuration, dependency resolution, and that all crates compile. Fix any issues with feature flags or dependency versions. Ensures Rust workspace is properly configured before proceeding to process orchestration.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:12.14838-05:00","updated_at":"2025-12-18T17:23:58.340671-05:00","closed_at":"2025-12-18T17:23:58.340671-05:00","close_reason":"cargo check + nix eval pass","dependencies":[{"issue_id":"ironstar-6lq.5","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:12.148741-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.5","depends_on_id":"ironstar-6lq.4","type":"blocks","created_at":"2025-12-18T09:36:12.450316-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.6","title":"Add Rust checks to flake.checks for CI integration","description":"Create Rust checks for CI integration. Options to evaluate:\n\n1. rust-flake provides built-in checks via rust-project configuration - may already be available\n2. If custom checks needed, create nix/modules/checks.nix defining perSystem.checks:\n   - cargo-test: cargo test --workspace --all-features\n   - cargo-clippy: cargo clippy --workspace --all-targets -- -D warnings\n   - cargo-fmt: cargo fmt --all -- --check\n   - cargo-doc: cargo doc --workspace --no-deps --document-private-items\n\nSession learning: ironstar uses import-tree (not nix/modules/ path) - any new module goes in modules/ directly.\n\nVerify what rust-flake provides first: nix flake show | grep checks\n\nLocal refs: ~/projects/rust-workspace/rust-nix-template","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:12.611209-05:00","updated_at":"2025-12-18T21:50:18.052972-05:00","closed_at":"2025-12-18T21:50:18.052972-05:00","close_reason":"Implemented in commits 2f9d052, 9f669cb, 0479a77. Checks: ironstar-clippy (autowired), rust-fmt, rust-test (workspace-level). Justfile targets: rust-check, list-crates-json.","dependencies":[{"issue_id":"ironstar-6lq.6","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:12.611657-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.6","depends_on_id":"ironstar-6lq.4","type":"blocks","created_at":"2025-12-18T09:36:12.919412-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.7","title":"Add Rust to CI matrix and extend inherited workflows","description":"Wire Rust checks into ci.yaml matrix after 6lq.6 (flake checks) and 6lq.8 (workflow pattern) are complete.\n\nIMPLEMENTATION OPTIONS (choose one):\n\nOption A: Integrate via nix flake check (simplest)\n- Add job to ci.yaml that runs: nix flake check --impure\n- Runs ALL checks (Rust + TypeScript + Nix) in one command\n- Cachix caching already configured in flake nixConfig\n- No separate workflow file needed\n\nOption B: Separate Rust job with matrix\n- Add rust-checks job to ci.yaml\n- Use list-crates-json for crate discovery (like list-packages-json for TS)\n- Dispatch to crate-test.yaml via workflow_call\n- More granular caching/reporting but more complex\n\nAVAILABLE FLAKE OUTPUTS:\n- checks.*.ironstar-clippy\n- checks.*.rust-fmt  \n- checks.*.rust-test\n- packages.*.ironstar\n- packages.*.ironstar-doc\n\nPLATFORM MATRIX:\n- x86_64-linux (CI primary)\n- aarch64-darwin (dev machines)\n- aarch64-linux (optional)\n\nCACHING:\n- Cachix binary cache configured in nixConfig\n- just cache / cache-all targets for local pushes\n- GitHub Actions uses cached-ci-job composite action\n\nNOTE: GitHub workflow_call requires workflow to exist on default branch.\nMay need to push minimal workflow to main first, or test with workflow_dispatch.\n\nLocal refs: typescript-nix-template/.github/workflows/ci.yaml","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:13.083952-05:00","updated_at":"2025-12-18T21:50:40.136609-05:00","dependencies":[{"issue_id":"ironstar-6lq.7","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T09:36:13.084329-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.7","depends_on_id":"ironstar-6lq.6","type":"blocks","created_at":"2025-12-18T09:36:13.401616-05:00","created_by":"daemon"},{"issue_id":"ironstar-6lq.7","depends_on_id":"ironstar-6lq.8","type":"blocks","created_at":"2025-12-18T18:02:29.623841-05:00","created_by":"daemon"}]}
{"id":"ironstar-6lq.8","title":"Create reusable Rust CI workflow with workflow_call dispatch","description":"Define a reusable GitHub workflow for Rust CI checks using workflow_call dispatch.\n\nIMPLEMENTATION APPROACH (from session research):\n\nOption A (Recommended): Use nix flake check directly\n- ci.yaml runs: nix flake check --impure\n- All Rust checks (clippy, fmt, test) run via flake.checks\n- Simplest approach, leverages existing nix infrastructure\n- Content-addressed caching via Cachix (already configured in nixConfig)\n\nOption B: Per-crate matrix with justfile\n- Create crate-test.yaml (parallel to package-test.yaml)\n- Use list-crates-json for matrix discovery\n- Run: nix develop -c just rust-check\n- More granular but adds complexity\n\nAVAILABLE CHECKS (implemented in ironstar-6lq.6):\n- checks.*.ironstar-clippy (per-crate, autowired)\n- checks.*.rust-fmt (workspace-level)\n- checks.*.rust-test (workspace-level)\n\nJUSTFILE TARGETS (for Option B):\n- just rust-fmt-check\n- just rust-clippy  \n- just rust-test\n- just rust-check (runs all)\n- just list-crates-json (matrix data)\n\nWORKFLOW FILE STRUCTURE (if Option B):\n.github/workflows/crate-test.yaml:\n- workflow_dispatch + workflow_call triggers\n- inputs: crate-name, crate-path, debug-enabled, nix-installer, force-run\n- secrets: SOPS_AGE_KEY\n- Uses cached-ci-job composite action\n\nLocal refs: typescript-nix-template/.github/workflows/package-test.yaml","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T18:02:23.02519-05:00","updated_at":"2025-12-18T21:50:28.564055-05:00","dependencies":[{"issue_id":"ironstar-6lq.8","depends_on_id":"ironstar-6lq","type":"parent-child","created_at":"2025-12-18T18:02:23.025729-05:00","created_by":"daemon"}]}
{"id":"ironstar-753","title":"Third-party library integration","description":"Integration patterns for third-party JavaScript libraries with Datastar: Pattern 1 vanilla web components as thin wrappers (sortable-list), Pattern 2 Vega-Lite with data-ignore-morph and View API updates, and build-time Lucide icon inlining. Demonstrates how to bridge imperative JS libraries with declarative hypermedia-driven architecture while preserving Datastar's backend-as-source-of-truth principle.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-18T09:36:47.483031-05:00","updated_at":"2025-12-18T09:36:47.647618-05:00","dependencies":[{"issue_id":"ironstar-753","depends_on_id":"ironstar-ny3","type":"blocks","created_at":"2025-12-18T09:36:47.798161-05:00","created_by":"daemon"},{"issue_id":"ironstar-753","depends_on_id":"ironstar-09r","type":"blocks","created_at":"2025-12-18T17:12:00.467149-05:00","created_by":"daemon"},{"issue_id":"ironstar-753","depends_on_id":"ironstar-nor","type":"blocks","created_at":"2025-12-18T17:12:00.668819-05:00","created_by":"daemon"}]}
{"id":"ironstar-753.1","title":"Implement VegaChart web component wrapper","description":"Create vanilla TypeScript web component (web-components/components/vega-chart.ts) that wraps vega-embed, stores Result and View instances, implements observedAttributes=['spec-url', 'data-url', 'signal-values'], and calls result?.finalize() on disconnect. Must use data-ignore-morph to prevent Datastar from morphing Vega's DOM.\nLocal refs: ~/projects/lakescope-workspace/vega-embed, ~/projects/lakescope-workspace/datastar-go-nats-template-northstar","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:47.96546-05:00","updated_at":"2025-12-18T09:36:48.12389-05:00","dependencies":[{"issue_id":"ironstar-753.1","depends_on_id":"ironstar-753","type":"parent-child","created_at":"2025-12-18T09:36:47.965881-05:00","created_by":"daemon"},{"issue_id":"ironstar-753.1","depends_on_id":"ironstar-ny3.14","type":"blocks","created_at":"2025-12-18T09:36:48.26694-05:00","created_by":"daemon"}]}
{"id":"ironstar-753.2","title":"Implement sortable-list web component wrapper","description":"Create web-components/components/sortable-list.ts implementing Pattern 1 thin wrapper around SortableJS library. Dispatches custom reorder event with detail containing oldIndex/newIndex. Integrates with Datastar via data-on:reorder.\nLocal refs: ~/projects/lakescope-workspace/datastar-go-nats-template-northstar","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:48.427395-05:00","updated_at":"2025-12-18T09:36:48.575142-05:00","dependencies":[{"issue_id":"ironstar-753.2","depends_on_id":"ironstar-753","type":"parent-child","created_at":"2025-12-18T09:36:48.427773-05:00","created_by":"daemon"},{"issue_id":"ironstar-753.2","depends_on_id":"ironstar-ny3.14","type":"blocks","created_at":"2025-12-18T09:36:48.737287-05:00","created_by":"daemon"}]}
{"id":"ironstar-753.3","title":"Set up Lucide icon build-time inlining","description":"Configure rolldown.config.ts to import lucide icons and inline SVG into bundle. Create icon helper function in hypertext templates for consistent icon usage. Provides zero-runtime icon system.\nLocal refs: ~/projects/lakescope-workspace/open-props-ui, ~/projects/rust-workspace/hypertext","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:48.894573-05:00","updated_at":"2025-12-18T09:36:49.041629-05:00","dependencies":[{"issue_id":"ironstar-753.3","depends_on_id":"ironstar-753","type":"parent-child","created_at":"2025-12-18T09:36:48.894964-05:00","created_by":"daemon"},{"issue_id":"ironstar-753.3","depends_on_id":"ironstar-ny3.2","type":"blocks","created_at":"2025-12-18T09:36:49.19717-05:00","created_by":"daemon"}]}
{"id":"ironstar-amw","title":"Configure SQLite production PRAGMA settings (WAL, synchronous, cache)","description":"Optimize SQLite for event sourcing workload after pool creation:\nsqlx::query(\"PRAGMA journal_mode=WAL\").execute(\u0026pool).await?;\nsqlx::query(\"PRAGMA synchronous=FULL\").execute(\u0026pool).await?;\nsqlx::query(\"PRAGMA cache_size=-64000\").execute(\u0026pool).await?; // 64MB\nsqlx::query(\"PRAGMA temp_store=MEMORY\").execute(\u0026pool).await?;\nWAL mode enables concurrent reads during writes. synchronous=FULL ensures durability.\nLocal refs: ~/projects/rust-workspace/sqlx","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T17:31:36.996253-05:00","updated_at":"2025-12-18T17:31:36.996253-05:00","dependencies":[{"issue_id":"ironstar-amw","depends_on_id":"ironstar-nyp.3","type":"blocks","created_at":"2025-12-18T17:31:48.265231-05:00","created_by":"daemon"}]}
{"id":"ironstar-apx","title":"Documentation and template","description":"Template finalization with omnix integration (om CLI parameters, conditional file inclusion), comprehensive BOOTSTRAP.md documentation, environment configuration templates, and structured logging via tracing. Enables users to instantiate ironstar as a template project with parameterized customization following typescript-nix-template and rust-nix-template patterns.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-18T09:36:51.229466-05:00","updated_at":"2025-12-18T09:36:51.393768-05:00","dependencies":[{"issue_id":"ironstar-apx","depends_on_id":"ironstar-zuv","type":"blocks","created_at":"2025-12-18T09:36:51.538958-05:00","created_by":"daemon"},{"issue_id":"ironstar-apx","depends_on_id":"ironstar-rjs","type":"blocks","created_at":"2025-12-18T17:26:44.056089-05:00","created_by":"daemon"}]}
{"id":"ironstar-apx.1","title":"Create BOOTSTRAP.md with complete setup instructions","description":"Write BOOTSTRAP.md documenting: prerequisites (Nix, direnv), flake.nix structure overview, Nix modules organization, devShell contents, process-compose processes, development workflow, frontend/backend build separation. Include troubleshooting section.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:51.698664-05:00","updated_at":"2025-12-18T09:36:51.857557-05:00","dependencies":[{"issue_id":"ironstar-apx.1","depends_on_id":"ironstar-apx","type":"parent-child","created_at":"2025-12-18T09:36:51.699018-05:00","created_by":"daemon"},{"issue_id":"ironstar-apx.1","depends_on_id":"ironstar-r62.13","type":"blocks","created_at":"2025-12-18T09:36:52.002378-05:00","created_by":"daemon"}]}
{"id":"ironstar-apx.2","title":"Create template parameters and conditional includes","description":"Implement nix/modules/template.nix defining omnix template parameters: project-name, crate-name, github-ci (conditional .github/workflows), example-todo (conditional examples/), nix-template (conditional nix/modules/template.nix). Follow typescript-nix-template pattern.\nLocal refs: ~/projects/nix-workspace/typescript-nix-template/modules/template.nix","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:52.167986-05:00","updated_at":"2025-12-18T09:36:52.319828-05:00","dependencies":[{"issue_id":"ironstar-apx.2","depends_on_id":"ironstar-apx","type":"parent-child","created_at":"2025-12-18T09:36:52.168362-05:00","created_by":"daemon"},{"issue_id":"ironstar-apx.2","depends_on_id":"ironstar-6lq.1","type":"blocks","created_at":"2025-12-18T09:36:52.464755-05:00","created_by":"daemon"}]}
{"id":"ironstar-apx.3","title":"Define om CLI instantiation tests and metadata","description":"Add om.templates.ironstar definition with template description, parameters array, and integration tests validating: Cargo.toml generation, flake.nix presence, .github/workflows/ci.yml conditionally present, packages.default builds successfully.\nLocal refs: ~/projects/rust-workspace/rust-nix-template/nix/modules/template.nix","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-18T09:36:52.626251-05:00","updated_at":"2025-12-18T09:36:52.769508-05:00","dependencies":[{"issue_id":"ironstar-apx.3","depends_on_id":"ironstar-apx","type":"parent-child","created_at":"2025-12-18T09:36:52.626622-05:00","created_by":"daemon"},{"issue_id":"ironstar-apx.3","depends_on_id":"ironstar-apx.2","type":"blocks","created_at":"2025-12-18T09:36:52.924359-05:00","created_by":"daemon"}]}
{"id":"ironstar-apx.4","title":"Create .env.development template file","description":"Create template .env.development with DATABASE_URL=dev.db, LOG_LEVEL=debug, SERVER_PORT=3000, RELOAD_ENABLED=true, STATIC_DIR=static/dist. Document in README that users should copy to .env for local development. Add .env* to .gitignore.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:53.084413-05:00","updated_at":"2025-12-18T09:36:53.237655-05:00","dependencies":[{"issue_id":"ironstar-apx.4","depends_on_id":"ironstar-apx","type":"parent-child","created_at":"2025-12-18T09:36:53.084791-05:00","created_by":"daemon"},{"issue_id":"ironstar-apx.4","depends_on_id":"ironstar-nyp.3","type":"blocks","created_at":"2025-12-18T09:36:53.38386-05:00","created_by":"daemon"}]}
{"id":"ironstar-apx.5","title":"Add structured logging with tracing","description":"Integrate tracing and tracing-subscriber crates for structured logging of events appended, handlers executed, projection updates, and errors. Use span context to correlate logs across request lifecycle.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:53.54444-05:00","updated_at":"2025-12-18T09:36:53.703718-05:00","dependencies":[{"issue_id":"ironstar-apx.5","depends_on_id":"ironstar-apx","type":"parent-child","created_at":"2025-12-18T09:36:53.544785-05:00","created_by":"daemon"},{"issue_id":"ironstar-apx.5","depends_on_id":"ironstar-r62.13","type":"blocks","created_at":"2025-12-18T09:36:53.859698-05:00","created_by":"daemon"}]}
{"id":"ironstar-b9h","title":"Configure tower-http Brotli compression for SSE responses","description":"Add CompressionLayer from tower-http to SSE routes:\nuse tower_http::compression::CompressionLayer;\nlet app = Router::new()\n    .route(\"/feed\", get(sse_feed))\n    .layer(CompressionLayer::new());\nDatastar docs claim 200:1 compression ratios for HTML over SSE with Brotli.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/lakescope-workspace/datastar-doc","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T17:31:27.147777-05:00","updated_at":"2025-12-18T17:31:27.147777-05:00","dependencies":[{"issue_id":"ironstar-b9h","depends_on_id":"ironstar-r62.5","type":"blocks","created_at":"2025-12-18T17:31:58.282271-05:00","created_by":"daemon"}]}
{"id":"ironstar-c7z","title":"Implement DuckDB remote data source integration (DuckLake/HF pattern)","description":"Extend DuckDB analytics service to query remote data sources via DuckDB's httpfs extension:\n- hf:// protocol for HuggingFace-hosted datasets (parquet files on HuggingFace Hub)\n- s3:// protocol for S3-compatible object storage (AWS S3, Cloudflare R2, MinIO)\n- DuckLake catalog integration for versioned data lakes\n\nExample pattern:\nSELECT * FROM 'hf://datasets/org/dataset/data.parquet';\nSET s3_endpoint='account.r2.cloudflarestorage.com';\nSELECT * FROM read_parquet('s3://bucket/data/*.parquet');\n\nThis enables the axum backend to fetch external datasets for ECharts/Vega visualizations without requiring local data ingestion.\n\nLocal refs:\n- ~/projects/rust-workspace/rust-duckdb-huggingface-ducklake-query (reference implementation)\n- ~/projects/omicslake-workspace/marhar-frozen (DuckLake fixture data creation)\n- ~/projects/omicslake-workspace/marhar-duckdb-tools (DuckDB data lake tooling)\n- ~/projects/omicslake-workspace/duckdb-rs","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T17:42:29.960214-05:00","updated_at":"2025-12-18T17:50:13.990038-05:00","dependencies":[{"issue_id":"ironstar-c7z","depends_on_id":"ironstar-nyp.12","type":"blocks","created_at":"2025-12-18T17:42:35.310347-05:00","created_by":"daemon"}]}
{"id":"ironstar-cxe","title":"Template instantiation","description":"Bootstrap the ironstar project from typescript-nix-template using omnix om CLI. This epic establishes the foundational Nix flake structure with deterministic development environments, secrets management patterns, and git repository initialization. Validates that the template instantiation succeeds before proceeding to Rust-specific integration.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-18T09:36:07.442807-05:00","updated_at":"2025-12-18T13:43:16.554412-05:00","closed_at":"2025-12-18T13:43:16.554412-05:00","close_reason":"Closed"}
{"id":"ironstar-cxe.1","title":"Run om init with typescript-nix-template parameters","description":"Execute om init with typescript-nix-template to generate the initial flake structure with flake-parts, import-tree module composition, treefmt-nix formatting, nix-unit testing, git-hooks, and GitHub Actions workflows.\n\nTemplate source: github:sciexp/typescript-nix-template/main\n\nParameters:\n- project-name: ironstar\n- npm-scope: @ironstar\n- git-org: sciexp\n- author: Ironstar Developers\n- author-email: ironstar@scientistexperience.net\n- project-description: Rust + Datastar template for reactive, event-sourced web applications with hypermedia-driven architecture\n- cloudflare-worker-name: ironstar-docs\n- production-url: ironstar.scientistexperience.net\n- github-ci: true\n- vscode: true\n- docs: true\n- nix-template: false\n\nExecution plan:\n1. Run om init to ~/projects/rust-workspace/ironstar-init (temp directory)\n2. Selectively merge files into existing ironstar repo with atomic commits\n3. Preserve existing docs/notes/ content\n4. Set up docs/ symlinks following typescript-nix-template pattern\n5. Merge .gitignore and .gitattributes (preserve beads merge driver)\n\nLocal refs: ~/projects/nix-workspace/typescript-nix-template","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:07.745128-05:00","updated_at":"2025-12-18T11:14:34.74988-05:00","closed_at":"2025-12-18T11:14:34.74988-05:00","close_reason":"Closed","dependencies":[{"issue_id":"ironstar-cxe.1","depends_on_id":"ironstar-cxe","type":"parent-child","created_at":"2025-12-18T09:36:07.745554-05:00","created_by":"daemon"}]}
{"id":"ironstar-cxe.2","title":"Configure secrets management and string replacement","description":"Secrets are managed via sops-encrypted vars/*.yaml files following the typescript-nix-template pattern, rather than .env files. The .sops.yaml configuration and vars/ directory structure were added during template instantiation. Runtime secrets are decrypted by sops and injected via the devShell or CI workflows. The .gitignore already includes patterns to prevent accidental secret commits (.env*, vars/* with exceptions for encrypted yaml/json).","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:08.063505-05:00","updated_at":"2025-12-18T13:42:58.244355-05:00","closed_at":"2025-12-18T13:42:58.244355-05:00","close_reason":"Closed","dependencies":[{"issue_id":"ironstar-cxe.2","depends_on_id":"ironstar-cxe","type":"parent-child","created_at":"2025-12-18T09:36:08.063892-05:00","created_by":"daemon"},{"issue_id":"ironstar-cxe.2","depends_on_id":"ironstar-cxe.1","type":"blocks","created_at":"2025-12-18T09:36:08.363171-05:00","created_by":"daemon"}]}
{"id":"ironstar-cxe.3","title":"Verify nix develop enters working development shell","description":"Test that nix develop successfully enters the devShell with basic tooling available. Verify nixd, direnv, and foundational utilities are present. This validates the template instantiation before proceeding to Rust integration.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:08.524413-05:00","updated_at":"2025-12-18T13:42:58.245614-05:00","closed_at":"2025-12-18T13:42:58.245614-05:00","close_reason":"Closed","dependencies":[{"issue_id":"ironstar-cxe.3","depends_on_id":"ironstar-cxe","type":"parent-child","created_at":"2025-12-18T09:36:08.524856-05:00","created_by":"daemon"},{"issue_id":"ironstar-cxe.3","depends_on_id":"ironstar-cxe.1","type":"blocks","created_at":"2025-12-18T09:36:08.855855-05:00","created_by":"daemon"}]}
{"id":"ironstar-cxe.4","title":"Create initial git commit with generated structure","description":"Stage all generated files from om init and create initial commit with message: 'feat: initialize ironstar from typescript-nix-template'. Establishes baseline for tracking subsequent changes.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:09.020963-05:00","updated_at":"2025-12-18T13:43:06.352223-05:00","closed_at":"2025-12-18T13:43:06.352223-05:00","close_reason":"Closed","dependencies":[{"issue_id":"ironstar-cxe.4","depends_on_id":"ironstar-cxe","type":"parent-child","created_at":"2025-12-18T09:36:09.021365-05:00","created_by":"daemon"},{"issue_id":"ironstar-cxe.4","depends_on_id":"ironstar-cxe.3","type":"blocks","created_at":"2025-12-18T09:36:09.347894-05:00","created_by":"daemon"},{"issue_id":"ironstar-cxe.4","depends_on_id":"ironstar-cxe.2","type":"blocks","created_at":"2025-12-18T09:36:09.502924-05:00","created_by":"daemon"}]}
{"id":"ironstar-cxe.5","title":"Create .gitignore with comprehensive patterns","description":"Create .gitignore at repository root with patterns: /target/, Cargo.lock, /static/dist/, web-components/dist, node_modules, .env*, dev.db*, .DS_Store, .direnv, result, .beads/. Protects against accidental secret commits and build artifacts.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:09.669403-05:00","updated_at":"2025-12-18T13:42:58.246514-05:00","closed_at":"2025-12-18T13:42:58.246514-05:00","close_reason":"Closed","dependencies":[{"issue_id":"ironstar-cxe.5","depends_on_id":"ironstar-cxe","type":"parent-child","created_at":"2025-12-18T09:36:09.669793-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k","title":"Example application (Todo)","description":"Complete TodoMVC demonstration integrating all architectural layers: Todo domain model with algebraic types, event-sourced state management, SSE-driven UI updates via Datastar, hypertext template rendering, and CQRS command/query separation. Demonstrates the full stack in action with a familiar reference application following northstar patterns adapted for Rust.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-18T09:36:42.02273-05:00","updated_at":"2025-12-18T09:36:42.173312-05:00","dependencies":[{"issue_id":"ironstar-e6k","depends_on_id":"ironstar-r62","type":"blocks","created_at":"2025-12-18T09:36:42.327447-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.1","title":"Define Todo domain model (aggregate, events, commands)","description":"Create src/domain/todo.rs with:\nstruct TodoAggregate { id: Uuid, text: TodoText, completed: bool, created_at: DateTime\u003cUtc\u003e, updated_at: DateTime\u003cUtc\u003e }\nenum TodoEvent { TodoCreated { id: Uuid, text: String, created_at: DateTime\u003cUtc\u003e }, TodoCompleted { id: Uuid, completed_at: DateTime\u003cUtc\u003e }, TodoDeleted { id: Uuid, deleted_at: DateTime\u003cUtc\u003e } }\nenum TodoCommand { AddTodo { text: String }, MarkComplete { id: Uuid }, DeleteTodo { id: Uuid } }\nDemonstrates algebraic modeling with sum types (events) and product types (aggregates).\nLocal refs: ~/projects/lakescope-workspace/datastar-go-nats-template-northstar","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:42.483896-05:00","updated_at":"2025-12-18T09:36:42.639187-05:00","dependencies":[{"issue_id":"ironstar-e6k.1","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:42.48427-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.1","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:42.79262-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.1","depends_on_id":"ironstar-2nt.4","type":"blocks","created_at":"2025-12-18T09:36:42.941811-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.2","title":"Implement TodoListProjection with in-memory rebuild","description":"Create struct TodoListProjection(Vec\u003cTodoItem\u003e) implementing Projection trait. rebuild() method replays all TodoCreated/TodoCompleted/TodoDeleted events to reconstruct current state. apply() method handles incremental event updates. Demonstrates projection pattern.\nLocal refs: ~/projects/rust-workspace/datastar-rust-lince","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:43.108045-05:00","updated_at":"2025-12-18T09:36:43.255636-05:00","dependencies":[{"issue_id":"ironstar-e6k.2","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:43.108467-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.2","depends_on_id":"ironstar-e6k.1","type":"blocks","created_at":"2025-12-18T09:36:43.413574-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.2","depends_on_id":"ironstar-nyp.7","type":"blocks","created_at":"2025-12-18T09:36:43.569675-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.3","title":"Implement add_todo handler (POST /add-todo)","description":"Create async handler accepting ReadSignals\u003cAddTodoCommand\u003e with text field. Validates non-empty, emits TodoCreated event, appends to event store, broadcasts to subscribers, returns 202. Frontend removes loading indicator via SSE update. Demonstrates write path with immediate response.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/datastar-rust","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:43.733727-05:00","updated_at":"2025-12-18T09:36:43.885805-05:00","dependencies":[{"issue_id":"ironstar-e6k.3","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:43.734117-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.3","depends_on_id":"ironstar-e6k.2","type":"blocks","created_at":"2025-12-18T09:36:44.043493-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.3","depends_on_id":"ironstar-r62.6","type":"blocks","created_at":"2025-12-18T09:36:44.195599-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.4","title":"Implement mark_todo handler (POST /mark-todo)","description":"Create async handler accepting ReadSignals\u003c{id: Uuid}\u003e that emits TodoCompleted event, appends to event store, broadcasts, returns 202. SSE updates todo item to show completed state via hypertext morphing.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:44.358067-05:00","updated_at":"2025-12-18T09:36:44.502635-05:00","dependencies":[{"issue_id":"ironstar-e6k.4","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:44.358476-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.4","depends_on_id":"ironstar-e6k.3","type":"blocks","created_at":"2025-12-18T09:36:44.65614-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.5","title":"Implement delete_todo handler (POST /delete-todo)","description":"Create async handler accepting ReadSignals\u003c{id: Uuid}\u003e that emits TodoDeleted event, appends to event store, broadcasts, returns 202. SSE morphs todo-list to remove deleted item or replaces entire list.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:44.827268-05:00","updated_at":"2025-12-18T09:36:44.975046-05:00","dependencies":[{"issue_id":"ironstar-e6k.5","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:44.827714-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.5","depends_on_id":"ironstar-e6k.3","type":"blocks","created_at":"2025-12-18T09:36:45.119292-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.6","title":"Implement GET /todos SSE feed endpoint","description":"Create async handler returning Sse\u003cimpl Stream\u003e that on initial connection sends TodoListProjection current state as PatchElements(todo_list_template(todos)), then streams incremental updates from broadcast channel. Implements Tao of Datastar principle 1 (backend is source of truth) with fat morph initial state.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/datastar-rust","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:45.278664-05:00","updated_at":"2025-12-18T09:36:45.445025-05:00","dependencies":[{"issue_id":"ironstar-e6k.6","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:45.279313-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.6","depends_on_id":"ironstar-e6k.2","type":"blocks","created_at":"2025-12-18T09:36:45.6055-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.6","depends_on_id":"ironstar-r62.5","type":"blocks","created_at":"2025-12-18T09:36:45.756334-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.7","title":"Implement todo_list_template rendering function","description":"Create hypertext function fn todo_list_template(todos: \u0026[TodoItem]) -\u003e impl Renderable that renders ul#todo-list with li items, checkboxes with data-on:change, delete buttons with data-on:click, and add-todo form with input data-bind. Demonstrates complete Datastar integration for todo app.\nLocal refs: ~/projects/rust-workspace/hypertext, ~/projects/lakescope-workspace/datastar-go-nats-template-northstar","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:45.918691-05:00","updated_at":"2025-12-18T09:36:46.075761-05:00","dependencies":[{"issue_id":"ironstar-e6k.7","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:45.919081-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.7","depends_on_id":"ironstar-r62.10","type":"blocks","created_at":"2025-12-18T09:36:46.232358-05:00","created_by":"daemon"}]}
{"id":"ironstar-e6k.8","title":"Implement todo example route mounting","description":"Create routes() function that mounts GET /todos, POST /add-todo, POST /mark-todo, POST /delete-todo, and GET /todos-feed endpoints. Wire state with TodoStore, EventStore, Projections, and event_bus. Mount under /api prefix in main Router.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:46.402003-05:00","updated_at":"2025-12-18T09:36:46.559029-05:00","dependencies":[{"issue_id":"ironstar-e6k.8","depends_on_id":"ironstar-e6k","type":"parent-child","created_at":"2025-12-18T09:36:46.402396-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.8","depends_on_id":"ironstar-e6k.6","type":"blocks","created_at":"2025-12-18T09:36:46.704367-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.8","depends_on_id":"ironstar-e6k.3","type":"blocks","created_at":"2025-12-18T09:36:46.850952-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.8","depends_on_id":"ironstar-e6k.4","type":"blocks","created_at":"2025-12-18T09:36:47.002325-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.8","depends_on_id":"ironstar-e6k.5","type":"blocks","created_at":"2025-12-18T09:36:47.1643-05:00","created_by":"daemon"},{"issue_id":"ironstar-e6k.8","depends_on_id":"ironstar-e6k.7","type":"blocks","created_at":"2025-12-18T09:36:47.320573-05:00","created_by":"daemon"}]}
{"id":"ironstar-f8b","title":"Process compose integration","description":"Integrate process-compose for orchestrating development services including database initialization, frontend bundler watch mode, TypeScript type generation, backend cargo-watch, and browser hotreload. Uses process-compose-flake for Nix integration and declarative service configuration with dependency ordering and readiness probes.","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-18T09:36:13.572364-05:00","updated_at":"2025-12-18T09:36:13.726425-05:00","dependencies":[{"issue_id":"ironstar-f8b","depends_on_id":"ironstar-6lq","type":"blocks","created_at":"2025-12-18T09:36:13.87458-05:00","created_by":"daemon"}]}
{"id":"ironstar-f8b.1","title":"Integrate process-compose-flake patterns into devShell","description":"Create nix/modules/process-compose.nix importing process-compose-flake.flakeModule:\n{\n  imports = [ inputs.process-compose-flake.flakeModule ];\n  perSystem = { config, pkgs, ... }: {\n    process-compose.dev = {\n      settings.processes = { ... };\n    };\n  };\n}\nDefine perSystem process-compose configurations. Expose as packages.dev runnable via nix run .#dev. Integrates declarative process orchestration into Nix workflow.\nLocal refs: ~/projects/nix-workspace/process-compose-flake","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:14.038509-05:00","updated_at":"2025-12-18T09:36:14.188586-05:00","dependencies":[{"issue_id":"ironstar-f8b.1","depends_on_id":"ironstar-f8b","type":"parent-child","created_at":"2025-12-18T09:36:14.038875-05:00","created_by":"daemon"}]}
{"id":"ironstar-f8b.2","title":"Configure process-compose.yaml for dev services","description":"Create process-compose.yaml with processes: db-init (one-shot SQLite schema), frontend (Rolldown watch), typegen (ts-rs watch), backend (cargo watch), hotreload (browser SSE trigger). Define process dependencies, readiness probes, and log_location for each service.\nLocal refs: ~/projects/nix-workspace/process-compose","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:14.352183-05:00","updated_at":"2025-12-18T09:36:14.50011-05:00","dependencies":[{"issue_id":"ironstar-f8b.2","depends_on_id":"ironstar-f8b","type":"parent-child","created_at":"2025-12-18T09:36:14.352549-05:00","created_by":"daemon"},{"issue_id":"ironstar-f8b.2","depends_on_id":"ironstar-f8b.1","type":"blocks","created_at":"2025-12-18T09:36:14.653228-05:00","created_by":"daemon"}]}
{"id":"ironstar-f8b.3","title":"Set up service orchestration (frontend bundler, cargo-watch)","description":"Configure service startup order and dependencies in process-compose.yaml:\nprocesses:\n  db-init:\n    command: sqlite3 dev.db \u003c migrations/schema.sql\n    availability: { exit_on_end: true }\n  backend:\n    command: cargo watch -x run\n    depends_on:\n      db-init: { condition: process_completed }\n    readiness_probe: { http_get: { host: localhost, port: 3000, path: /health } }\n  frontend:\n    command: cd web-components \u0026\u0026 pnpm rolldown -w\n    depends_on: { backend: { condition: process_healthy } }\n  hotreload:\n    command: ...\n    depends_on: { backend: { condition: process_healthy } }\nEnsures db-init completes before backend starts, typegen runs when Rust files change, frontend rebuilds on TypeScript changes, backend restarts on Rust changes, hotreload triggers browser refresh after successful backend build.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:14.817987-05:00","updated_at":"2025-12-18T09:36:14.973091-05:00","dependencies":[{"issue_id":"ironstar-f8b.3","depends_on_id":"ironstar-f8b","type":"parent-child","created_at":"2025-12-18T09:36:14.818371-05:00","created_by":"daemon"},{"issue_id":"ironstar-f8b.3","depends_on_id":"ironstar-f8b.2","type":"blocks","created_at":"2025-12-18T09:36:15.128204-05:00","created_by":"daemon"}]}
{"id":"ironstar-f8b.4","title":"Configure cargo-watch to curl hotreload trigger on success","description":"Update backend process command in process-compose.yaml:\n  backend:\n    command: cargo watch -x run -s 'if cargo check; then curl -X POST http://localhost:3000/hotreload/trigger; fi'\nTriggers browser reload via SSE only on successful backend rebuild. Integrates with TASK_HOTRELOAD endpoint (Epic 7) for seamless DX.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:15.287422-05:00","updated_at":"2025-12-18T09:36:15.44893-05:00","dependencies":[{"issue_id":"ironstar-f8b.4","depends_on_id":"ironstar-f8b","type":"parent-child","created_at":"2025-12-18T09:36:15.28779-05:00","created_by":"daemon"},{"issue_id":"ironstar-f8b.4","depends_on_id":"ironstar-f8b.3","type":"blocks","created_at":"2025-12-18T09:36:15.597823-05:00","created_by":"daemon"}]}
{"id":"ironstar-f8b.5","title":"Verify process-compose up works with all services","description":"Test that process-compose up successfully starts all services in correct order. Verify readiness probes work, dependencies are respected, and logs are properly separated. Test that services restart appropriately when files change.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:15.763425-05:00","updated_at":"2025-12-18T09:36:15.913793-05:00","dependencies":[{"issue_id":"ironstar-f8b.5","depends_on_id":"ironstar-f8b","type":"parent-child","created_at":"2025-12-18T09:36:15.763799-05:00","created_by":"daemon"},{"issue_id":"ironstar-f8b.5","depends_on_id":"ironstar-f8b.4","type":"blocks","created_at":"2025-12-18T09:36:16.063222-05:00","created_by":"daemon"}]}
{"id":"ironstar-nor","title":"Research Mosaic visualization integration (TBD)","description":"Mosaic provides grammar of graphics for large datasets with coordinated views. Integration pattern TBD - requires bridging Mosaic coordinator (push-based query updates) with Datastar signals (SSE-driven state). More complex than Vega-Lite due to competing reactive systems. See integration-patterns.md Mosaic section. Ref: ~/projects/lakescope-workspace/mosaic/","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-18T17:11:36.289441-05:00","updated_at":"2025-12-18T17:11:36.289441-05:00"}
{"id":"ironstar-ny3","title":"Frontend build pipeline","description":"Build pipeline for frontend assets using Rolldown (Rust-native bundler), PostCSS for modern CSS (OKLch, light-dark, container queries), Open Props design tokens, Open Props UI component CSS, TypeScript for type safety, and ts-rs for Rust-to-TypeScript type generation. Outputs content-hashed bundles for single-binary embedding via rust-embed.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T09:36:20.313846-05:00","updated_at":"2025-12-18T09:36:20.471258-05:00","dependencies":[{"issue_id":"ironstar-ny3","depends_on_id":"ironstar-6lq.7","type":"blocks","created_at":"2025-12-18T09:36:20.624629-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.1","title":"Create web-components/ project structure with package.json","description":"Initialize web-components/ subdirectory with package.json (type: module, scripts: dev/build for Rolldown), tsconfig.json (target ES2020, experimentalDecorators, strict mode), and PostCSS configuration. Establishes the frontend asset build pipeline.\nLocal refs: ~/projects/lakescope-workspace/open-props, ~/projects/lakescope-workspace/open-props-ui","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:20.782321-05:00","updated_at":"2025-12-18T18:02:49.430917-05:00","dependencies":[{"issue_id":"ironstar-ny3.1","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:20.782684-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.10","title":"Configure ts-rs export directory and justfile task","description":"Add [env] section to .cargo/config.toml setting TS_RS_EXPORT_DIR. Create gen-types task in justfile: TS_RS_EXPORT_DIR=web-components/types cargo test --lib. Centralizes type generation configuration.\nLocal refs: ~/projects/rust-workspace/ts-rs","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:24.664592-05:00","updated_at":"2025-12-18T09:36:24.814659-05:00","dependencies":[{"issue_id":"ironstar-ny3.10","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:24.664963-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.10","depends_on_id":"ironstar-ny3.9","type":"blocks","created_at":"2025-12-18T09:36:24.958867-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.10","depends_on_id":"ironstar-2nt.5","type":"blocks","created_at":"2025-12-18T09:36:25.121352-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.11","title":"Create static/dist/ output directory structure","description":"Initialize static/dist/ directory placeholder for Rolldown build outputs (bundle.[hash].css, bundle.[hash].js, manifest.json). Create static/datastar/ for runtime datastar.js. Aligns with single-binary asset embedding in production.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:25.287447-05:00","updated_at":"2025-12-18T09:36:25.454461-05:00","dependencies":[{"issue_id":"ironstar-ny3.11","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:25.287829-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.11","depends_on_id":"ironstar-ny3.2","type":"blocks","created_at":"2025-12-18T09:36:25.610782-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.12","title":"Implement manifest.json parser for hashed filename resolution","description":"Create AssetManifest struct parsing static/dist/manifest.json:\n#[derive(Deserialize)]\nstruct AssetManifest(HashMap\u003cString, String\u003e);\nimpl AssetManifest {\n    fn resolve(\u0026self, entry: \u0026str) -\u003e Option\u003c\u0026str\u003e {\n        self.0.get(entry).map(|s| s.as_str())\n    }\n}\nResolves logical entry names (bundle.js) to content-hashed filenames (bundle.a1b2c3.js) for cache-busting.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:25.767704-05:00","updated_at":"2025-12-18T09:36:25.920591-05:00","dependencies":[{"issue_id":"ironstar-ny3.12","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:25.768063-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.12","depends_on_id":"ironstar-ny3.11","type":"blocks","created_at":"2025-12-18T09:36:26.069833-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.13","title":"Implement rust-embed conditional asset serving","description":"Create dual-mode asset serving: dev mode serves from filesystem via tower-http::ServeDir with no-store cache headers; prod mode embeds static/dist/ via rust-embed with immutable cache headers. Include AssetManifest loader for hashed filename resolution.\nLocal refs: ~/projects/rust-workspace/rust-embed","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:26.237407-05:00","updated_at":"2025-12-18T09:36:26.411281-05:00","dependencies":[{"issue_id":"ironstar-ny3.13","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:26.239198-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.13","depends_on_id":"ironstar-ny3.12","type":"blocks","created_at":"2025-12-18T09:36:26.544104-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.14","title":"Create web-components/components/ directory for vanilla web components","description":"Set up web-components/components/ directory structure for vanilla web components. Create index.ts that exports/registers all components:\nclass SortableList extends HTMLElement {\n  connectedCallback() {\n    Sortable.create(this, { onEnd: (evt) =\u003e this.dispatchEvent(new CustomEvent('reorder', { detail: evt })) });\n  }\n  disconnectedCallback() { /* cleanup */ }\n}\ncustomElements.define('sortable-list', SortableList);\nContains thin wrapper web components for third-party libraries following the data-ignore-morph pattern with Datastar integration.\nLocal refs: ~/projects/lakescope-workspace/datastar-go-nats-template-northstar/web/components/","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:26.696995-05:00","updated_at":"2025-12-18T09:36:26.852063-05:00","dependencies":[{"issue_id":"ironstar-ny3.14","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:26.697457-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.14","depends_on_id":"ironstar-ny3.8","type":"blocks","created_at":"2025-12-18T09:36:27.003939-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.2","title":"Configure Rolldown bundler with content-based hashing","description":"Create web-components/rolldown.config.ts:\nimport { defineConfig } from 'rolldown';\nimport postcss from 'rolldown-plugin-postcss';\nexport default defineConfig({\n  input: { bundle: 'index.ts', components: 'components/index.ts' },\n  output: { dir: '../static/dist', format: 'esm', entryFileNames: '[name].[hash].js' },\n  plugins: [postcss({ extract: true, modules: false })],\n});\nOutputs content-hashed assets (bundle.[hash].js, bundle.[hash].css, manifest.json) for cache-busting and single-binary asset embedding.\nLocal refs: ~/projects/rust-workspace/rolldown (clone needed: https://github.com/rolldown/rolldown)","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:21.104754-05:00","updated_at":"2025-12-18T09:36:21.254463-05:00","dependencies":[{"issue_id":"ironstar-ny3.2","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:21.105117-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.2","depends_on_id":"ironstar-ny3.1","type":"blocks","created_at":"2025-12-18T09:36:21.403116-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.3","title":"Setup PostCSS configuration for modern CSS features","description":"Create web-components/postcss.config.js with plugins: postcss-import, postcss-preset-env (stage 0 for OKLch/light-dark/custom-media), autoprefixer, cssnano. Enables Open Props and modern CSS features.\nLocal refs: ~/projects/lakescope-workspace/open-props/","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:21.568714-05:00","updated_at":"2025-12-18T09:36:21.724648-05:00","dependencies":[{"issue_id":"ironstar-ny3.3","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:21.569098-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.3","depends_on_id":"ironstar-ny3.1","type":"blocks","created_at":"2025-12-18T09:36:21.869588-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.4","title":"Setup Open Props design tokens and theme layer","description":"Create web-components/styles/main.css importing Open Props design tokens. Create web-components/styles/theme.css with CSS custom properties using light-dark() function for automatic dark mode. Establish CSS cascade layers: openprops, normalize, theme, components, utilities, app.\nLocal refs: ~/projects/lakescope-workspace/open-props, ~/projects/lakescope-workspace/open-props-ui","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:22.032332-05:00","updated_at":"2025-12-18T09:36:22.186107-05:00","dependencies":[{"issue_id":"ironstar-ny3.4","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:22.032694-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.4","depends_on_id":"ironstar-ny3.3","type":"blocks","created_at":"2025-12-18T09:36:22.3311-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.5","title":"Configure CSS cascade layers for predictable specificity","description":"Add @layer declarations to web-components/styles/main.css:\n@layer openprops, normalize, theme, components, utilities, app;\n@import 'open-props/style' layer(openprops);\n@import 'open-props/normalize' layer(normalize);\n@import './theme.css' layer(theme);\n@import './components/button.css' layer(components);\nEstablishes explicit cascade order preventing specificity wars and making component styles easily overridable at app layer.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:22.491028-05:00","updated_at":"2025-12-18T09:36:22.642603-05:00","dependencies":[{"issue_id":"ironstar-ny3.5","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:22.491394-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.5","depends_on_id":"ironstar-ny3.4","type":"blocks","created_at":"2025-12-18T09:36:22.79319-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.6","title":"Copy Open Props UI component CSS files","description":"Copy component CSS from ~/projects/lakescope-workspace/open-props-ui into web-components/styles/components/ (button.css, card.css, dialog.css, input.css, field.css, etc). Customize for ironstar theming. This follows the copy-paste ownership model where project owns and customizes component CSS.\nLocal refs: ~/projects/lakescope-workspace/open-props-ui","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:22.953999-05:00","updated_at":"2025-12-18T09:36:23.114701-05:00","dependencies":[{"issue_id":"ironstar-ny3.6","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:22.95437-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.6","depends_on_id":"ironstar-ny3.5","type":"blocks","created_at":"2025-12-18T09:36:23.266454-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.7","title":"Create TypeScript configuration (tsconfig.json)","description":"Create web-components/tsconfig.json with strict mode enabled, ESNext target and module, bundler moduleResolution, include glob patterns for all TypeScript files and generated types directory. Add path mapping for @types alias.\nLocal refs: ~/projects/rust-workspace/ts-rs","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:23.42034-05:00","updated_at":"2025-12-18T09:36:23.564834-05:00","dependencies":[{"issue_id":"ironstar-ny3.7","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:23.420702-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.7","depends_on_id":"ironstar-ny3.1","type":"blocks","created_at":"2025-12-18T09:36:23.724968-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.8","title":"Create web-components/index.ts entry point","description":"Create index.ts that imports main.css (processed by PostCSS plugin) and auto-registers vanilla web components by importing from components/ subdirectory. Export TypeScript types from web-components/types/ for frontend type safety.\nLocal refs: ~/projects/lakescope-workspace/datastar-go-nats-template-northstar/web/index.ts","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:23.889453-05:00","updated_at":"2025-12-18T09:36:24.043635-05:00","dependencies":[{"issue_id":"ironstar-ny3.8","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:23.88983-05:00","created_by":"daemon"},{"issue_id":"ironstar-ny3.8","depends_on_id":"ironstar-ny3.7","type":"blocks","created_at":"2025-12-18T09:36:24.187742-05:00","created_by":"daemon"}]}
{"id":"ironstar-ny3.9","title":"Add ts-rs dependency to Cargo.toml","description":"Add ts-rs 11.1+ with features serde-compat and uuid-impl. Enables deriving TS traits on Rust types to generate TypeScript definitions. Ensures frontend and backend signal contracts stay synchronized.\nLocal refs: ~/projects/rust-workspace/ts-rs","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:24.34794-05:00","updated_at":"2025-12-18T09:36:24.501019-05:00","dependencies":[{"issue_id":"ironstar-ny3.9","depends_on_id":"ironstar-ny3","type":"parent-child","created_at":"2025-12-18T09:36:24.348287-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp","title":"Event sourcing infrastructure","description":"Event sourcing and CQRS infrastructure implementing append-only event log (SQLite + sqlx), in-memory projection manager with RwLock, tokio broadcast for event distribution, redb for ACID session storage, and optional DuckDB for OLAP analytics. Separates write path (commands emit events) from read path (projections subscribe to events and maintain denormalized views).","status":"open","priority":0,"issue_type":"epic","created_at":"2025-12-18T09:36:27.172501-05:00","updated_at":"2025-12-18T09:36:27.331127-05:00","dependencies":[{"issue_id":"ironstar-nyp","depends_on_id":"ironstar-2nt","type":"blocks","created_at":"2025-12-18T09:36:27.481496-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.1","title":"Create database migrations/ directory with schema.sql","description":"Initialize migrations/ subdirectory with migrations/schema.sql containing SQLite DDL: events table (id, aggregate_type, aggregate_id, sequence, event_type, payload, metadata, created_at), unique constraint, indexes. Referenced by process-compose db-init.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:27.643937-05:00","updated_at":"2025-12-18T09:36:27.795093-05:00","dependencies":[{"issue_id":"ironstar-nyp.1","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:27.644313-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.10","title":"Add session TTL cleanup background task","description":"Spawn tokio background task running every hour to delete expired sessions:\ntokio::spawn(async move {\n    let mut interval = tokio::time::interval(Duration::from_secs(3600));\n    loop {\n        interval.tick().await;\n        session_store.delete_expired(SystemTime::now() - Duration::from_secs(86400 * 30)).await;\n    }\n});\nPrevents unbounded session store growth in long-running servers.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:32.085909-05:00","updated_at":"2025-12-18T09:36:32.245218-05:00","dependencies":[{"issue_id":"ironstar-nyp.10","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:32.086294-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.10","depends_on_id":"ironstar-nyp.9","type":"blocks","created_at":"2025-12-18T09:36:32.379555-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.11","title":"Create Session axum extractor","description":"Implement FromRequestParts for Session type extracting session_id from CookieJar. Load or initialize SessionData from SessionStore. Return Session struct with id and data fields for use in handlers.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:32.540782-05:00","updated_at":"2025-12-18T09:36:32.686379-05:00","dependencies":[{"issue_id":"ironstar-nyp.11","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:32.54116-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.11","depends_on_id":"ironstar-nyp.10","type":"blocks","created_at":"2025-12-18T09:36:32.83397-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.12","title":"Implement DuckDB analytics service","description":"Create AnalyticsService wrapping duckdb::Connection using one-connection-per-task pattern. Implement query methods returning Vec of analytics results. Wrap blocking operations in tokio::task::block_in_place() for quick queries. Enables OLAP queries over event history.\nLocal refs: ~/projects/omicslake-workspace/duckdb-rs","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:33.001834-05:00","updated_at":"2025-12-18T09:36:33.153576-05:00","dependencies":[{"issue_id":"ironstar-nyp.12","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:33.002215-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.12","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:33.300805-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.2","title":"Create EventStore trait abstraction","description":"Define async trait with append, query_all, query_since_sequence, query_aggregate methods using async_trait. Enables swapping implementations (SQLite now, Zenoh later) without changing application code.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:27.945853-05:00","updated_at":"2025-12-18T09:36:28.093564-05:00","dependencies":[{"issue_id":"ironstar-nyp.2","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:27.946231-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.2","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:28.246139-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.3","title":"Implement SQLite event store with sqlx","description":"Create SqliteEventStore struct implementing EventStore trait:\nasync fn append(\u0026self, event: \u0026DomainEvent) -\u003e Result\u003cu64\u003e;\nasync fn query_all(\u0026self) -\u003e Result\u003cVec\u003cStoredEvent\u003e\u003e;\nasync fn query_since_sequence(\u0026self, seq: u64) -\u003e Result\u003cVec\u003cStoredEvent\u003e\u003e;\nasync fn query_aggregate(\u0026self, agg_type: \u0026str, agg_id: Uuid) -\u003e Result\u003cVec\u003cStoredEvent\u003e\u003e;\nUse sqlx compile-time query validation with query!() macro. Create events table with sequence, aggregate_type, aggregate_id, event_type, payload JSON columns. Append-only log foundation for CQRS.\nLocal refs: ~/projects/rust-workspace/sqlx","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:28.41632-05:00","updated_at":"2025-12-18T18:02:41.455901-05:00","dependencies":[{"issue_id":"ironstar-nyp.3","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:28.416716-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.3","depends_on_id":"ironstar-nyp.2","type":"blocks","created_at":"2025-12-18T09:36:28.713817-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.3","depends_on_id":"ironstar-nyp.1","type":"blocks","created_at":"2025-12-18T09:36:28.854866-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.4","title":"Implement SQLite connection pooling and configuration","description":"Configure SqlitePool with PRAGMA settings for event sourcing: journal_mode=WAL, synchronous=FULL, cache_size=-64000 (64MB), temp_store=MEMORY. Optimizes for durability and read throughput on the event store workload.\nLocal refs: ~/projects/rust-workspace/sqlx","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:29.01645-05:00","updated_at":"2025-12-18T09:36:29.168144-05:00","dependencies":[{"issue_id":"ironstar-nyp.4","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:29.016925-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.4","depends_on_id":"ironstar-nyp.3","type":"blocks","created_at":"2025-12-18T09:36:29.319332-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.5","title":"Implement tokio broadcast event bus","description":"Create EventBus wrapper around tokio::sync::broadcast::channel with Sender holding domain events. Implement publish() method returning Result and subscribe() method returning Receiver. Set default capacity to 256 events. Enables in-process fan-out to multiple subscribers.\nLocal refs: ~/projects/rust-workspace/tokio","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:29.472808-05:00","updated_at":"2025-12-18T18:02:50.451916-05:00","dependencies":[{"issue_id":"ironstar-nyp.5","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:29.473186-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.5","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:29.782679-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.6","title":"Create Projection trait for read models","description":"Define async trait with associated types:\n#[async_trait]\ntrait Projection: Send + Sync + 'static {\n    type State: Clone + Send + Sync;\n    async fn rebuild(\u0026self, events: Vec\u003cStoredEvent\u003e) -\u003e Self::State;\n    async fn apply(\u0026self, state: \u0026mut Self::State, event: StoredEvent);\n    async fn to_sse_event(\u0026self, state: \u0026Self::State, sequence: u64) -\u003e Result\u003cdatastar::Event\u003e;\n}\nEnables multiple projection types to independently subscribe to events and maintain their own read models.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:29.944222-05:00","updated_at":"2025-12-18T09:36:30.098733-05:00","dependencies":[{"issue_id":"ironstar-nyp.6","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:29.944617-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.6","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:30.240427-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.7","title":"Implement ProjectionManager with in-memory state","description":"Create generic ProjectionManager\u003cP: Projection\u003e wrapping Arc\u003cRwLock\u003cP::State\u003e\u003e:\nimpl\u003cP: Projection\u003e ProjectionManager\u003cP\u003e {\n    async fn init(event_store: Arc\u003cdyn EventStore\u003e, bus: broadcast::Sender\u003cStoredEvent\u003e) -\u003e Self {\n        let events = event_store.query_all().await.unwrap();\n        let state = projection.rebuild(events).await;\n        spawn background task subscribing to bus for incremental updates\n    }\n    async fn query(\u0026self) -\u003e P::State { self.state.read().await.clone() }\n}\nReplays all events from event store to build initial state, then applies incremental updates from broadcast channel.\nLocal refs: ~/projects/rust-workspace/tokio","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:30.40292-05:00","updated_at":"2025-12-18T18:02:44.095968-05:00","dependencies":[{"issue_id":"ironstar-nyp.7","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:30.403348-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.7","depends_on_id":"ironstar-nyp.6","type":"blocks","created_at":"2025-12-18T09:36:30.695379-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.7","depends_on_id":"ironstar-nyp.5","type":"blocks","created_at":"2025-12-18T09:36:30.84505-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.7","depends_on_id":"ironstar-nyp.3","type":"blocks","created_at":"2025-12-18T09:36:30.98915-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.8","title":"Implement SSE 15-second keep-alive comment stream","description":"Add tokio::time::interval(Duration::from_secs(15)) to SSE stream merging:\nlet keepalive = tokio_stream::wrappers::IntervalStream::new(interval(Duration::from_secs(15)))\n    .map(|_| Event::default().comment(\"keepalive\"));\nlet events_stream = BroadcastStream::new(rx).filter_map(|e| e.ok());\nlet merged = stream::select(keepalive, events_stream);\nPrevents proxy/firewall timeouts and allows clients to detect broken connections.","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:31.149897-05:00","updated_at":"2025-12-18T09:36:31.303528-05:00","dependencies":[{"issue_id":"ironstar-nyp.8","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:31.150257-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.8","depends_on_id":"ironstar-nyp.5","type":"blocks","created_at":"2025-12-18T09:36:31.455567-05:00","created_by":"daemon"}]}
{"id":"ironstar-nyp.9","title":"Implement redb session store with ACID guarantees","description":"Create SessionStore wrapper around redb::Database with get(session_id) and put(session_id, data) methods. Use bincode serialization for SessionData struct. Implement linear type semantics with WriteTransaction bracket pattern. Provides server-side session storage with ACID durability.\nLocal refs: ~/projects/rust-workspace/redb, ~/projects/rust-workspace/redb/docs/design.md","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:31.621427-05:00","updated_at":"2025-12-18T09:36:31.772163-05:00","dependencies":[{"issue_id":"ironstar-nyp.9","depends_on_id":"ironstar-nyp","type":"parent-child","created_at":"2025-12-18T09:36:31.621833-05:00","created_by":"daemon"},{"issue_id":"ironstar-nyp.9","depends_on_id":"ironstar-2nt.2","type":"blocks","created_at":"2025-12-18T09:36:31.922002-05:00","created_by":"daemon"}]}
{"id":"ironstar-r5f","title":"ironstar-6lq","description":"","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T18:03:01.804381-05:00","updated_at":"2025-12-18T18:03:01.804381-05:00"}
{"id":"ironstar-r62","title":"Presentation layer","description":"HTTP presentation layer using axum for routing and extractors, SSE for server-sent events with Last-Event-ID reconnection, hypertext for lazy HTML template rendering, datastar-rust for SSE generation conforming to Datastar SDK specification, and devShell configuration. Implements Tao of Datastar principles: backend as source of truth, fat morph for resilience, CQRS separation of read/write endpoints.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T09:36:33.483281-05:00","updated_at":"2025-12-18T09:36:33.665299-05:00","dependencies":[{"issue_id":"ironstar-r62","depends_on_id":"ironstar-nyp","type":"blocks","created_at":"2025-12-18T09:36:33.826437-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62","depends_on_id":"ironstar-ny3","type":"blocks","created_at":"2025-12-18T09:36:33.964324-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.1","title":"Add justfile with development and build tasks","description":"Create justfile at repository root with recipes: dev, dev-bg, gen-types, build-frontend, build-backend, build (full), test, fmt, lint, check, ci. Centralizes task orchestration following Rust conventions.\nLocal refs: ~/projects/rust-workspace/rust-nix-template/, ~/projects/nix-workspace/typescript-nix-template/justfile","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:34.128996-05:00","updated_at":"2025-12-18T09:36:34.272449-05:00","dependencies":[{"issue_id":"ironstar-r62.1","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:34.129374-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.10","title":"Implement component-level hypertext templates","description":"Create reusable component functions (e.g., button, form_field, loading_spinner) returning impl Renderable. Components accept data and emit proper Datastar attributes (data-on:, data-show, data-bind). These compose into page templates.\nLocal refs: ~/projects/rust-workspace/hypertext","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:38.954048-05:00","updated_at":"2025-12-18T09:36:39.105823-05:00","dependencies":[{"issue_id":"ironstar-r62.10","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:38.954424-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.10","depends_on_id":"ironstar-r62.9","type":"blocks","created_at":"2025-12-18T09:36:39.254727-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.11","title":"Implement router composition with feature routes","description":"Create main Router that merges feature modules. Each feature provides route() -\u003e Router\u003cAppState\u003e composing GET/POST/SSE handlers. Use Router::merge to combine features and apply State layer to inject AppState.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:39.421053-05:00","updated_at":"2025-12-18T18:02:42.589988-05:00","dependencies":[{"issue_id":"ironstar-r62.11","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:39.421426-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.11","depends_on_id":"ironstar-r62.5","type":"blocks","created_at":"2025-12-18T09:36:39.724394-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.11","depends_on_id":"ironstar-r62.6","type":"blocks","created_at":"2025-12-18T09:36:39.872394-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.11","depends_on_id":"ironstar-r62.7","type":"blocks","created_at":"2025-12-18T09:36:40.023827-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.12","title":"Implement graceful shutdown signal handling","description":"Add tokio signal handling for SIGTERM/SIGINT:\nasync fn shutdown_signal() {\n    let ctrl_c = tokio::signal::ctrl_c();\n    #[cfg(unix)]\n    let terminate = async {\n        tokio::signal::unix::signal(SignalKind::terminate()).unwrap().recv().await;\n    };\n    tokio::select! {\n        _ = ctrl_c =\u003e {},\n        _ = terminate =\u003e {},\n    }\n}\naxum::Server::bind(\u0026addr).serve(app.into_make_service()).with_graceful_shutdown(shutdown_signal()).await\nEnsures clean shutdown of EventStore, SessionStore, and SSE connections.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:40.187602-05:00","updated_at":"2025-12-18T18:02:46.45917-05:00","dependencies":[{"issue_id":"ironstar-r62.12","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:40.187964-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.12","depends_on_id":"ironstar-r62.11","type":"blocks","created_at":"2025-12-18T09:36:40.505054-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.13","title":"Wire all components together in main.rs","description":"Create main.rs that initializes EventStore, SessionStore, Projections, EventBus, composes Router, and starts axum server on configured port. Handle graceful shutdown. Orchestration layer tying all services together.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/tokio","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:40.666406-05:00","updated_at":"2025-12-18T09:36:40.814528-05:00","dependencies":[{"issue_id":"ironstar-r62.13","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:40.666805-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.13","depends_on_id":"ironstar-r62.12","type":"blocks","created_at":"2025-12-18T09:36:40.957505-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.14","title":"Implement dev-only hotreload SSE endpoint","description":"Create conditional compilation block (#[cfg(debug_assertions)]) with GET /hotreload SSE endpoint that broadcasts ExecuteScript(window.location.reload()) when triggered, plus POST /hotreload/trigger endpoint. Coordinates with cargo-watch for browser reload on build completion.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/datastar-rust","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:41.125987-05:00","updated_at":"2025-12-18T09:36:41.277296-05:00","dependencies":[{"issue_id":"ironstar-r62.14","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:41.126372-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.14","depends_on_id":"ironstar-r62.5","type":"blocks","created_at":"2025-12-18T09:36:41.437399-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.15","title":"Implement health check endpoint for process-compose","description":"Create GET /health endpoint that returns 200 OK when server is ready. Used by process-compose readiness_probe to coordinate startup dependency ordering between db-init, backend, frontend, and hotreload processes.\nLocal refs: ~/projects/rust-workspace/axum","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:41.575801-05:00","updated_at":"2025-12-18T09:36:41.711432-05:00","dependencies":[{"issue_id":"ironstar-r62.15","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:41.576181-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.15","depends_on_id":"ironstar-r62.11","type":"blocks","created_at":"2025-12-18T09:36:41.84948-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.2","title":"Create devShell module with tools and environment","description":"Implement nix/modules/devshell.nix defining default devShell with inputsFrom rust devShell and pre-commit hooks, plus packages: just, cargo-watch, pnpm, nodejs, process-compose, sqlite3, nixd, bacon. Complete development environment.\nLocal refs: ~/projects/rust-workspace/rust-nix-template/nix/modules/devshell.nix, ~/projects/nix-workspace/typescript-nix-template/modules/dev-shell.nix","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:34.433413-05:00","updated_at":"2025-12-18T09:36:34.591083-05:00","dependencies":[{"issue_id":"ironstar-r62.2","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:34.4338-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.3","title":"Configure pre-commit hooks for code quality","description":"Create nix/modules/pre-commit.nix with git hooks for rustfmt, clippy, prettier (frontend), and linters. Set up .pre-commit-config.yaml to integrate with devShell via git-hooks.nix flake module.\nLocal refs: ~/projects/rust-workspace/rust-nix-template/nix/modules/pre-commit.nix","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T09:36:34.758546-05:00","updated_at":"2025-12-18T09:36:34.920424-05:00","dependencies":[{"issue_id":"ironstar-r62.3","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:34.75891-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.3","depends_on_id":"ironstar-r62.2","type":"blocks","created_at":"2025-12-18T09:36:35.07341-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.4","title":"Define AppState struct with all dependencies","description":"Create AppState struct holding Arc\u003cEventStore\u003e, Arc\u003cSessionStore\u003e, Arc\u003cProjections\u003e, broadcast::Sender\u003cStoredEvent\u003e, and optional debug-only reload channel. Implement AppState::new() to initialize all services and replay events to rebuild projections at startup.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/tokio","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:35.23874-05:00","updated_at":"2025-12-18T18:02:40.05766-05:00","dependencies":[{"issue_id":"ironstar-r62.4","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:35.239109-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.4","depends_on_id":"ironstar-nyp.3","type":"blocks","created_at":"2025-12-18T09:36:35.534843-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.4","depends_on_id":"ironstar-nyp.10","type":"blocks","created_at":"2025-12-18T09:36:35.687986-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.4","depends_on_id":"ironstar-nyp.7","type":"blocks","created_at":"2025-12-18T09:36:35.85622-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.4","depends_on_id":"ironstar-nyp.5","type":"blocks","created_at":"2025-12-18T09:36:36.003278-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.5","title":"Implement SSE feed endpoint with event replay","description":"Create async sse_feed handler:\nasync fn sse_feed(headers: HeaderMap, State(state): State\u003cAppState\u003e) -\u003e Sse\u003cimpl Stream\u003cItem = Result\u003cEvent, Infallible\u003e\u003e\u003e {\n    let last_event_id = headers.get(\"Last-Event-ID\").and_then(|h| h.to_str().ok()).and_then(|s| s.parse().ok()).unwrap_or(0);\n    let replay = state.event_store.query_since_sequence(last_event_id).await.unwrap().into_iter().map(|e| Event::default().id(e.sequence).data(e.payload));\n    let live = BroadcastStream::new(state.event_bus.subscribe()).filter_map(|e| e.ok()).map(|e| Event::default().id(e.sequence).data(e.payload));\n    Sse::new(stream::iter(replay).chain(live))\n}\nExtracts Last-Event-ID, subscribes to broadcast channel, replays events since that ID from event store, chains with live stream, and emits SSE events with id field set to sequence number. Implements reconnection recovery.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/datastar-rust, ~/projects/lakescope-workspace/datastar/sdk/ADR.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:36.167614-05:00","updated_at":"2025-12-18T18:02:45.291707-05:00","dependencies":[{"issue_id":"ironstar-r62.5","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:36.168035-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.5","depends_on_id":"ironstar-r62.4","type":"blocks","created_at":"2025-12-18T09:36:36.47907-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.5","depends_on_id":"ironstar-nyp.8","type":"blocks","created_at":"2025-12-18T09:36:36.632496-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.6","title":"Implement command POST handlers","description":"Create POST handlers using ReadSignals extractor:\nasync fn add_todo(ReadSignals(cmd): ReadSignals\u003cAddTodoCommand\u003e, State(state): State\u003cAppState\u003e) -\u003e impl IntoResponse {\n    let validated = cmd.validate()?;\n    let event = aggregate.apply_command(validated)?;\n    let seq = state.event_store.append(\u0026event).await?;\n    state.event_bus.send(StoredEvent { sequence: seq, event })?;\n    StatusCode::ACCEPTED\n}\nExtracts Command from ReadSignals\u003cT\u003e extractor (requires #[derive(Deserialize)] on signal types), calls command handler (pure logic), appends events to event store, broadcasts to subscribers, and returns 202 Accepted immediately WITHOUT waiting for SSE update. Implements CQRS write path.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/datastar-rust","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:36.791045-05:00","updated_at":"2025-12-18T18:02:47.844717-05:00","dependencies":[{"issue_id":"ironstar-r62.6","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:36.791445-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.6","depends_on_id":"ironstar-r62.4","type":"blocks","created_at":"2025-12-18T09:36:37.094634-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.6","depends_on_id":"ironstar-2nt.4","type":"blocks","created_at":"2025-12-18T09:36:37.252282-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.7","title":"Implement query GET handlers","description":"Create GET handlers that call query handler (reads from projections), render hypertext template, and return as HTML or JSON. No event persistence, just read path. Handlers use State extractor to access AppState containing projections.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/hypertext","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:37.423259-05:00","updated_at":"2025-12-18T09:36:37.579432-05:00","dependencies":[{"issue_id":"ironstar-r62.7","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:37.423673-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.7","depends_on_id":"ironstar-r62.4","type":"blocks","created_at":"2025-12-18T09:36:37.727668-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.7","depends_on_id":"ironstar-nyp.7","type":"blocks","created_at":"2025-12-18T09:36:37.878743-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.8","title":"Implement RenderableToDatastar conversion trait","description":"Create extension trait for hypertext::Renderable:\ntrait RenderableToDatastar {\n    fn to_patch_elements(self) -\u003e PatchElements;\n    fn append_to(self, selector: \u0026str) -\u003e PatchElements;\n    fn replace_inner(self, selector: \u0026str) -\u003e PatchElements;\n}\nimpl\u003cT: Renderable\u003e RenderableToDatastar for T {\n    fn to_patch_elements(self) -\u003e PatchElements { PatchElements::new(self.render().to_string()) }\n    fn append_to(self, selector: \u0026str) -\u003e PatchElements { PatchElements::new(self.render().to_string()).append(selector) }\n    fn replace_inner(self, selector: \u0026str) -\u003e PatchElements { PatchElements::new(self.render().to_string()).replace_inner(selector) }\n}\nBridges hypertext templates to Datastar SSE without manual boilerplate.\nLocal refs: ~/projects/rust-workspace/hypertext, ~/projects/rust-workspace/datastar-rust","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:38.034362-05:00","updated_at":"2025-12-18T09:36:38.18831-05:00","dependencies":[{"issue_id":"ironstar-r62.8","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:38.034747-05:00","created_by":"daemon"}]}
{"id":"ironstar-r62.9","title":"Create base layout template with Datastar initialization","description":"Implement base_layout() function using hypertext::maud! that renders html \u003e head \u003e body with conditional hotreload div (data-init for dev mode), CSS link to bundle.[hash].css, and JS script for datastar.js. Establishes HTML structure for all pages.\nLocal refs: ~/projects/rust-workspace/hypertext, ~/projects/lakescope-workspace/datastar-go-nats-template-northstar","status":"open","priority":0,"issue_type":"task","created_at":"2025-12-18T09:36:38.35148-05:00","updated_at":"2025-12-18T09:36:38.492703-05:00","dependencies":[{"issue_id":"ironstar-r62.9","depends_on_id":"ironstar-r62","type":"parent-child","created_at":"2025-12-18T09:36:38.351866-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.9","depends_on_id":"ironstar-r62.8","type":"blocks","created_at":"2025-12-18T09:36:38.638299-05:00","created_by":"daemon"},{"issue_id":"ironstar-r62.9","depends_on_id":"ironstar-ny3.13","type":"blocks","created_at":"2025-12-18T09:36:38.789565-05:00","created_by":"daemon"}]}
{"id":"ironstar-rjs","title":"Document nixpkgs-unstable Darwin framework migration","description":"Session discovery: pkgs.darwin.apple_sdk.frameworks is deprecated in nixpkgs-unstable.\nError: darwin.apple_sdk_11_0 has been removed as legacy compatibility stub.\n\nFor now, ironstar's crate.nix uses minimal deps (just pkg-config + openssl on Linux).\nIf Darwin frameworks become needed for specific dependencies:\n- Check migration guide: https://nixos.org/manual/nixpkgs/stable/#sec-darwin-legacy-frameworks\n- Test with pkgs.apple-sdk.frameworks or direct pkgs.darwin.* access\n- May need to pin nixpkgs to a version before the breaking change\n\nThis is informational - most Rust builds work fine without explicit Darwin frameworks.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T17:26:37.364221-05:00","updated_at":"2025-12-18T17:26:37.364221-05:00"}
{"id":"ironstar-zuv","title":"Testing and integration","description":"Comprehensive test coverage including event store integration tests (SQLite append/query semantics), projection tests (rebuild correctness, RwLock concurrency safety), and end-to-end handler tests (command -\u003e event -\u003e broadcast -\u003e projection -\u003e SSE). Uses temporary databases for isolation and mock implementations for unit testing trait boundaries.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-18T09:36:49.362385-05:00","updated_at":"2025-12-18T09:36:49.523108-05:00","dependencies":[{"issue_id":"ironstar-zuv","depends_on_id":"ironstar-e6k","type":"blocks","created_at":"2025-12-18T09:36:49.674336-05:00","created_by":"daemon"}]}
{"id":"ironstar-zuv.1","title":"Create event store integration tests","description":"Write tests for SqliteEventStore: append returns monotonic sequences, query_all returns all events, query_since_sequence returns only newer events, index queries work correctly. Use temp SQLite database for isolation.\nLocal refs: ~/projects/rust-workspace/sqlx","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:49.833479-05:00","updated_at":"2025-12-18T09:36:49.984369-05:00","dependencies":[{"issue_id":"ironstar-zuv.1","depends_on_id":"ironstar-zuv","type":"parent-child","created_at":"2025-12-18T09:36:49.833822-05:00","created_by":"daemon"},{"issue_id":"ironstar-zuv.1","depends_on_id":"ironstar-nyp.3","type":"blocks","created_at":"2025-12-18T09:36:50.14067-05:00","created_by":"daemon"}]}
{"id":"ironstar-zuv.2","title":"Create projection tests","description":"Write tests for ProjectionManager: rebuild from events produces correct state, apply increments state correctly, concurrent applies via RwLock don't lose updates. Mock EventStore and Projection trait implementations.\nLocal refs: ~/projects/rust-workspace/tokio","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:50.305658-05:00","updated_at":"2025-12-18T09:36:50.446282-05:00","dependencies":[{"issue_id":"ironstar-zuv.2","depends_on_id":"ironstar-zuv","type":"parent-child","created_at":"2025-12-18T09:36:50.306049-05:00","created_by":"daemon"},{"issue_id":"ironstar-zuv.2","depends_on_id":"ironstar-nyp.7","type":"blocks","created_at":"2025-12-18T09:36:50.592514-05:00","created_by":"daemon"},{"issue_id":"ironstar-zuv.2","depends_on_id":"ironstar-zuv.1","type":"blocks","created_at":"2025-12-18T18:02:56.610548-05:00","created_by":"daemon"}]}
{"id":"ironstar-zuv.3","title":"Create end-to-end handler tests","description":"Write integration tests for complete command/query flow: POST command -\u003e event appended -\u003e broadcast sent -\u003e projection updated -\u003e SSE responds with new state. Use test utilities to initialize temporary AppState.\nLocal refs: ~/projects/rust-workspace/axum, ~/projects/rust-workspace/tokio","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T09:36:50.758414-05:00","updated_at":"2025-12-18T09:36:50.912006-05:00","dependencies":[{"issue_id":"ironstar-zuv.3","depends_on_id":"ironstar-zuv","type":"parent-child","created_at":"2025-12-18T09:36:50.758779-05:00","created_by":"daemon"},{"issue_id":"ironstar-zuv.3","depends_on_id":"ironstar-r62.13","type":"blocks","created_at":"2025-12-18T09:36:51.063868-05:00","created_by":"daemon"},{"issue_id":"ironstar-zuv.3","depends_on_id":"ironstar-zuv.2","type":"blocks","created_at":"2025-12-18T18:02:58.152168-05:00","created_by":"daemon"},{"issue_id":"ironstar-zuv.3","depends_on_id":"ironstar-zuv.1","type":"blocks","created_at":"2025-12-18T18:03:00.386207-05:00","created_by":"daemon"}]}
